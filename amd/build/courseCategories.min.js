define ("report_studentmonitor/courseCategories",["jquery","core/ajax","core/templates","report_studentmonitor/jszip","report_studentmonitor/pdfmake","report_studentmonitor/jquery.dataTables","report_studentmonitor/dataTables.bootstrap4","report_studentmonitor/autoFill.bootstrap4","report_studentmonitor/dataTables.buttons","report_studentmonitor/buttons.bootstrap4","report_studentmonitor/buttons.colVis","report_studentmonitor/buttons.html5","report_studentmonitor/buttons.print"],function(a,b,c){function d(b,c){a("#table-courses-"+b).DataTable({destroy:!0,columns:[{title:"Nombre",data:"fullname"},{title:"Estudiantes",data:"students"},{title:"Ver",data:"professors"}],data:c,dom:"Bfrtip",language:{url:"../assets/datatables/Spanish.json"},order:[],columnDefs:[{}],initComplete:function initComplete(){}})}return{init:function init(){a(document).ready(function(){a("#accordion").on("click",".category-button",function(){var e=a(this).attr("id").split("-")[1],f=a(this).attr("data-target").split("-")[2],g=b.call([{methodname:"report_studentmonitor_get_course_categories",args:{categoryCourseId:e}}]);g[0].done(function(b){if(!b.error){var e=JSON.parse(b.course_categories),g=JSON.parse(b.courses);if(0<e.length){if(0<g.length){var h={courseCategories:e,courseCategoryIdNumber:f,hasCourses:1}}else{var h={courseCategories:e,courseCategoryIdNumber:f}}}else{if(0<g.length){var h={courseCategoryIdNumber:f,hasCourses:1}}else{var h={courseCategoryIdNumber:f}}}c.render("report_studentmonitor/child_categories",h).then(function(b,h){a("#card-body-"+f).html("");c.appendNodeContents("#card-body-"+f,b,h);if(0<g.length){a("#id-"+f).on("click",function(){d(f,g)})}if(0==e.length){d(f,g)}}).fail(function(a){console.log(a)})}})})})}}});
//# sourceMappingURL=courseCategories.min.js.map
